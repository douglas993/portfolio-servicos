!function(r){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=341)}({341:function(e,t,r){"use strict";var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=i(r(94)),l=i(r(342));function i(e){return e&&e.__esModule?e:{default:e}}var f=void 0,u=window.document.getElementById("msg"),c=window.document.getElementById("portfolios"),s=window.document.getElementById("form"),d=(n(m,[{key:"getTodosTable",value:function(s){var d=this;new Promise(function(t,e){a.default.getTodos().then(function(e){t(e)})}).then(function(e){var t="";if(e.erro)d.exibirMsgAlert(e.msg,"erro");else{t+='<div class="table-responsive">\n                    <table class="table table-striped table-bordered table-hover table-sm">\n                    <thead class="table-dark">\n                        <tr>\n                            <th>Código</th>\n                            <th>Descrição</th>\n                            <th></th>\n                            <th></th>\n                        </tr>\n                    </thead>                    \n                    <tbody>';var r=!0,n=!1,o=void 0;try{for(var i,a=e.dados[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var l=i.value;t+="<tr>\n                    <td>"+l.id_portfolio+"</td>\n                    <td>"+l.descricao+'</td>\n                    <td><button  type="button"\n                    class="btn btn-primary btn-editar" data-id="'+l.id_portfolio+'">Editar</button></td>\n                    <td><button  type="button"\n                    class="btn btn-primary btn-excluir" data-id="'+l.id_portfolio+'">Excluir</button></td>\n                    </tr>'}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}t+="</tbody></table></div>",s.innerHTML=t;var u=document.querySelectorAll(".btn-editar"),c=document.querySelectorAll(".btn-excluir");u.forEach(function(e){e.addEventListener("click",function(e){f.limparAlerts();var t=e.target.getAttribute("data-id");f.prepararEditar(t)})}),c.forEach(function(e){e.addEventListener("click",function(e){f.limparAlerts();var t=e.target.getAttribute("data-id");f.deletar(t)})})}}).catch(function(e){return console.log("erro catch",e)})}},{key:"prepararEditar",value:function(r){var n=this;new Promise(function(t,e){a.default.getId(r).then(function(e){t(e)})}).then(function(e){if(e.erro)n.exibirMsgAlert(e.msg,"erro");else{var t=new l.default(e.dados[0].id_portfolio,e.dados[0].descricao,e.dados[0].detalhes);s.id.value=t.id_portfolio,s.descricao.value=t.descricao,s.detalhes.value=t.detalhes,f.ocultarElemento("listagem"),f.exibirElemento("formulario")}}).catch(function(e){console.log("erro catch:",e)})}},{key:"editar",value:function(t){var e,r,n,o=this;if(e=t.id.value,r=t.descricao.value,n=t.detalhes.value,e&&r&&n){var i=new l.default(e,r,n);new Promise(function(t,e){a.default.editar(i).then(function(e){t(e)})}).then(function(e){e.erro?o.exibirMsgAlert(e.msg,"erro"):(o.getTodosTable(c),o.exibirMsgAlert(e.msg,"sucesso"),f.ocultarElemento("formulario"),f.exibirElemento("listagem"),o.limparCamposForm(t))}).catch(function(e){console.log("erro catch:",e)})}else this.exibirMsgAlert("Por Favor, preencher todos os campos","erro")}},{key:"adicionar",value:function(t){var e,r,n=this;if(e=t.descricao.value,r=t.detalhes.value,e&&r){var o=new l.default(null,e,r);new Promise(function(t,e){a.default.adicionar(o).then(function(e){t(e)})}).then(function(e){e.erro?n.exibirMsgAlert(e.msg,"erro"):(n.getTodosTable(c),n.exibirMsgAlert(e.msg,"sucesso"),f.ocultarElemento("formulario"),f.exibirElemento("listagem"),n.limparCamposForm(t))}).catch(function(e){console.log("erro catch:",e)})}else this.exibirMsgAlert("Por Favor, preencher todos os campos","erro")}},{key:"deletar",value:function(r){var t=this;new Promise(function(t,e){a.default.deletar(r).then(function(e){t(e)})}).then(function(e){e.erro?t.exibirMsgAlert(e.msg,"erro"):(t.getTodosTable(c),t.exibirMsgAlert(e.msg,"sucesso"))}).catch(function(e){console.log("erro catch:",e)})}},{key:"ocultarElemento",value:function(e){document.getElementById(e).style.display="none"}},{key:"exibirElemento",value:function(e){document.getElementById(e).style.display="block"}},{key:"limparCamposForm",value:function(e){form.id.value="",form.descricao.value="",form.detalhes.value=""}},{key:"registrarEvents",value:function(){document.getElementById("btn-exibir-formulario").addEventListener("click",function(){f.limparAlerts(),f.ocultarElemento("listagem"),f.exibirElemento("formulario")}),document.getElementById("btn-cadastrar-portfolio").addEventListener("click",function(){event.preventDefault(),f.limparAlerts(),s.id.value?f.editar(s):f.adicionar(s)}),document.getElementById("btn-cancelar-operacao").addEventListener("click",function(){f.limparAlerts(),f.limparCamposForm(s),f.ocultarElemento("formulario"),f.exibirElemento("listagem")}),document.getElementById("btn-limpar-formulario").addEventListener("click",function(){f.limparAlerts(),f.limparCamposForm(s)})}},{key:"exibirMsgAlert",value:function(e,t){var r="";"sucesso"==t?r='<div class="alert alert-success alert-dismissible fade show" role="alert"> <strong>'+e+'</strong><button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span arial-hidden="true">&times;</span></button></div>':"erro"==t&&(r='<div class="alert alert-danger alert-dismissible fade show" role="alert"> <strong>'+e+'</strong><button type="button" class="close" data-dismiss="alert" aria-label="Close"> <span arial-hidden="true">&times;</span></button></div>'),u.innerHTML=r}},{key:"limparAlerts",value:function(){u.innerHTML=""}}]),m);function m(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m)}window.onload=function(){(f=new d).ocultarElemento("formulario"),f.getTodosTable(c),f.registrarEvents()}},342:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null!=t&&(this.id_portfolio=t),this.descricao=r,this.detalhes=n}},94:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i,a=r(95);var l=((i=a)&&i.__esModule?i:{default:i}).default.getUrlApi().toString()+"/portfolio",u=(n(c,null,[{key:"getTodos",value:function(){return fetch(l).then(function(e){if(400<=e.status)throw new Error("Error Server");return e.json()})}},{key:"getId",value:function(e){return fetch(l+"/"+e).then(function(e){if(400<=e.status)throw new Error("Error Server");return e.json()})}},{key:"adicionar",value:function(e){return fetch(l,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(function(e){if(400<=e.status)throw new Error("Error Server");return e.json()})}},{key:"editar",value:function(e){return fetch(l,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e)}).then(function(e){if(400<=e.status)throw new Error("Error Server");return e.json()})}},{key:"deletar",value:function(e){return fetch(l+"/"+e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"}).then(function(e){if(400<=e.status)throw new Error("Error Server");return e.json()})}}]),c);function c(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c)}t.default=u},95:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(i,null,[{key:"getUrlApi",value:function(){return this.urlApi="http://localhost:3000",this.urlApi}}]),i);function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i)}t.default=o}});